!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n,e){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),i=0;for(n=0;n<e;n++)for(var o=arguments[n],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.range=function(t,n){return r(Array(n-t)).map((function(n,e){return t+e}))}},function(t,n,e){(function(n,e){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,o=void 0,s=void 0,u=function(t,n){p[i]=t,p[i+1]=n,2===(i+=2)&&(s?s(v):b())},a="undefined"!=typeof window?window:void 0,c=a||{},h=c.MutationObserver||c.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(v,1)}}var p=new Array(1e3);function v(){for(var t=0;t<i;t+=2)(0,p[t])(p[t+1]),p[t]=void 0,p[t+1]=void 0;i=0}var m,y,w,g,b=void 0;function _(t,n){var e=this,r=new this.constructor(S);void 0===r[T]&&L(r);var i=e._state;if(i){var o=arguments[i-1];u((function(){return R(i,r,o,e._result)}))}else I(e,r,t,n);return r}function x(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var n=new this(S);return A(n,t),n}l?b=function(){return n.nextTick(v)}:h?(y=0,w=new h(v),g=document.createTextNode(""),w.observe(g,{characterData:!0}),b=function(){g.data=y=++y%2}):f?((m=new MessageChannel).port1.onmessage=v,b=function(){return m.port2.postMessage(0)}):b=void 0===a?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(v)}:d()}catch(t){return d()}}():d();var T=Math.random().toString(36).substring(2);function S(){}var M=void 0,E=1,P=2;function k(n,e,r){e.constructor===n.constructor&&r===_&&e.constructor.resolve===x?function(t,n){n._state===E?O(t,n._result):n._state===P?C(t,n._result):I(n,void 0,(function(n){return A(t,n)}),(function(n){return C(t,n)}))}(n,e):void 0===r?O(n,e):t(r)?function(t,n,e){u((function(t){var r=!1,i=function(t,n,e,r){try{t.call(n,e,r)}catch(t){return t}}(e,n,(function(e){r||(r=!0,n!==e?A(t,e):O(t,e))}),(function(n){r||(r=!0,C(t,n))}),t._label);!r&&i&&(r=!0,C(t,i))}),t)}(n,e,r):O(n,e)}function A(t,n){if(t===n)C(t,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(r=n),null===r||"object"!==i&&"function"!==i)O(t,n);else{var e=void 0;try{e=n.then}catch(n){return void C(t,n)}k(t,n,e)}var r,i}function j(t){t._onerror&&t._onerror(t._result),z(t)}function O(t,n){t._state===M&&(t._result=n,t._state=E,0!==t._subscribers.length&&u(z,t))}function C(t,n){t._state===M&&(t._state=P,t._result=n,u(j,t))}function I(t,n,e,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=n,i[o+E]=e,i[o+P]=r,0===o&&t._state&&u(z,t)}function z(t){var n=t._subscribers,e=t._state;if(0!==n.length){for(var r=void 0,i=void 0,o=t._result,s=0;s<n.length;s+=3)r=n[s],i=n[s+e],r?R(e,r,i,o):i(o);t._subscribers.length=0}}function R(n,e,r,i){var o=t(r),s=void 0,u=void 0,a=!0;if(o){try{s=r(i)}catch(t){a=!1,u=t}if(e===s)return void C(e,new TypeError("A promises callback cannot return that same promise."))}else s=i;e._state!==M||(o&&a?A(e,s):!1===a?C(e,u):n===E?O(e,s):n===P&&C(e,s))}var B=0;function L(t){t[T]=B++,t._state=void 0,t._result=void 0,t._subscribers=[]}var D=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(S),this.promise[T]||L(this.promise),r(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&O(this.promise,this._result))):C(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var n=0;this._state===M&&n<t.length;n++)this._eachEntry(t[n],n)},t.prototype._eachEntry=function(t,n){var e=this._instanceConstructor,r=e.resolve;if(r===x){var i=void 0,o=void 0,s=!1;try{i=t.then}catch(t){s=!0,o=t}if(i===_&&t._state!==M)this._settledAt(t._state,n,t._result);else if("function"!=typeof i)this._remaining--,this._result[n]=t;else if(e===F){var u=new e(S);s?C(u,o):k(u,t,i),this._willSettleAt(u,n)}else this._willSettleAt(new e((function(n){return n(t)})),n)}else this._willSettleAt(r(t),n)},t.prototype._settledAt=function(t,n,e){var r=this.promise;r._state===M&&(this._remaining--,t===P?C(r,e):this._result[n]=e),0===this._remaining&&O(r,this._result)},t.prototype._willSettleAt=function(t,n){var e=this;I(t,void 0,(function(t){return e._settledAt(E,n,t)}),(function(t){return e._settledAt(P,n,t)}))},t}(),F=function(){function n(t){this[T]=B++,this._result=this._state=void 0,this._subscribers=[],S!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof n?function(t,n){try{n((function(n){A(t,n)}),(function(n){C(t,n)}))}catch(n){C(t,n)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return n.prototype.catch=function(t){return this.then(null,t)},n.prototype.finally=function(n){var e=this.constructor;return t(n)?this.then((function(t){return e.resolve(n()).then((function(){return t}))}),(function(t){return e.resolve(n()).then((function(){throw t}))})):this.then(n,n)},n}();return F.prototype.then=_,F.all=function(t){return new D(this,t).promise},F.race=function(t){var n=this;return r(t)?new n((function(e,r){for(var i=t.length,o=0;o<i;o++)n.resolve(t[o]).then(e,r)})):new n((function(t,n){return n(new TypeError("You must pass an array to race."))}))},F.resolve=x,F.reject=function(t){var n=new this(S);return C(n,t),n},F._setScheduler=function(t){s=t},F._setAsap=function(t){u=t},F._asap=u,F.polyfill=function(){var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===r&&!n.cast)return}t.Promise=F},F.Promise=F,F},t.exports=r()}).call(this,e(5),e(6))},function(t,n,e){"use strict";var r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n};Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(3)),o=r(e(4)),s=r(e(7)),u=960,a=document.body.clientWidth,c=Math.floor(a/6),h=a/u,l=Math.floor(3*Math.random());function f(t){var n=document.getElementById(t);if(null===n)throw new Error("Did not get the HTMLInputElement. "+t+" is not a HTMLInputElement id.");return n}var d=f("snow"),p=f("rain"),v=f("cloud");d.addEventListener("change",(function(){d.checked&&(s.stopTimer(),o.stopTimer(),i.init(a,c,h,"weather"))}),!1),p.addEventListener("change",(function(){p.checked&&(s.stopTimer(),i.stopTimer(),o.init(a,c,h,"weather"))}),!1),v.addEventListener("change",(function(){v.checked&&(i.stopTimer(),o.stopTimer(),s.init(a,c,h,3,50,"weather"))}),!1),window.addEventListener("resize",(function(){a=document.body.clientWidth,c=Math.floor(a/6),h=a/u,d.checked?(i.stopTimer(),i.init(a,c,h,"weather")):p.checked?(o.stopTimer(),o.init(a,c,h,"weather")):(s.stopTimer(),s.init(a,c,h,3,50,"weather"))}),!1),0===l?(d.checked=!0,i.init(a,c,h,"weather")):1===l?(p.checked=!0,o.init(a,c,h,"weather")):(v.checked=!0,s.init(a,c,h,3,50,"weather"))},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i,o=function(){function t(t,n,e,r,i){this.x=t,this.y=n,this.vx=e,this.vy=r,this.size=i}return t.prototype.move=function(t,n){this.x+=t,this.y+=n},t.prototype.moveAbs=function(t,n){this.x=t,this.y=n},t}(),s=function(){function t(t,n,e){this.ms=16,this.width=t,this.height=n;var r=document.getElementById(e);if(null===r)throw new Error("Something wrong");var i=r.getContext("2d");if(null===i)throw new Error("Something wrong");this.ctx=i,this.snows=[]}return t.prototype.makeSnows=function(t,n,e,r,i){for(var s=[],u=0;u<t;u+=1){var a=Math.random()*this.width|0,c=Math.random()*this.height|0;s.push(new o(a,c,e,r,n))}this.snows.push({snows:s,color:i})},t.prototype.moveSnows=function(t){for(var n=0,e=t;n<e.length;n++){var r=e[n],i=Math.random()*r.vx+1|0,o=Math.random()*r.vy+1|0;r.move(i,o),r.x>=this.width&&r.moveAbs(0,r.y),r.y>=this.height&&r.moveAbs(r.x,0)}},t.prototype.drawSnows=function(t,n){this.ctx.fillStyle=n;for(var e=0,r=t;e<r.length;e++){var i=r[e];this.ctx.beginPath(),this.ctx.arc(i.x,i.y,i.size/2,0,2*Math.PI,!0),this.ctx.fill()}},t.prototype.draw=function(){this.ctx.fillStyle="rgb(13, 0, 21)",this.ctx.fillRect(0,0,this.width,this.height);for(var t=0,n=this.snows;t<n.length;t++){var e=n[t];this.drawSnows(e.snows,e.color)}},t.prototype.loop=function(){this.draw();for(var t=0,n=this.snows;t<n.length;t++){var e=n[t];this.moveSnows(e.snows)}},t}();function u(){r.loop()}n.init=function(t,n,e,o){var a=document.getElementById(o);if(null===a)throw new Error("Something wrong");a.width=t,a.height=n;var c=3*e,h=5*e;(r=new s(t,n,o)).makeSnows(40,4*e,c,h,"rgb(160, 160, 160"),r.makeSnows(30,10*e,c,h,"rgb(192, 192, 192"),r.makeSnows(20,16*e,c,h,"rgb(224, 224, 224"),r.makeSnows(10,22*e,c,h,"rgb(255, 255, 255"),i=setInterval(u,r.ms)},n.stopTimer=function(){i&&clearInterval(i)}},function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,u)}a((r=r.apply(t,n||[])).next())}))},i=this&&this.__generator||function(t,n){var e,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n};Object.defineProperty(n,"__esModule",{value:!0});var s,u,a=o(e(0)),c=o(e(1)),h=function(){function t(t,n,e,r,i){this.x=t,this.size=e,this.yBottom=n,this.yTop=this.yBottom-this.size,this.velocity=r,this.xValiations=i,this.counter=0}return t.prototype.count=function(t){this.counter>=t?this.counter=0:this.counter+=1},t.prototype.move=function(t,n){this.x+=t,this.yBottom+=n,this.yTop+=n},t.prototype.moveAbs=function(t,n){this.x=t,this.yBottom=n,this.yTop=this.yBottom-this.size},t}(),l=function(){function t(t,n,e,r){this.ms=16,this.valiation=20,this.width=t,this.height=n;var i=document.getElementById(e);if(null===i)throw new Error("Something wrong");var o=i.getContext("2d");if(null===o)throw new Error("Something wrong");this.ctx=o,this.rains=[],this.bgcolor=r}return t.prototype.makeRain=function(t,n){return r(this,void 0,c.Promise,(function(){var e,r,o,s=this;return i(this,(function(i){return e=Math.random()*this.width,r=Math.random()*this.height,o=[],a.range(0,this.valiation).map((function(t){return o.push(Math.random()*s.width)})),[2,new h(e,r,t,n,o)]}))}))},t.prototype.makeRains=function(t,n,e){var r=this,i=[],o=n/8;a.range(0,t).map((function(t){return r.makeRain(n,o).then((function(t){return i.push(t)}),(function(){return new Error("Did not make rain.")}))})),this.rains.push({rains:i,color:e})},t.prototype.moveRain=function(t){return r(this,void 0,c.Promise,(function(){return i(this,(function(n){return t.move(0,t.velocity),t.yTop>=this.height&&(t.moveAbs(t.xValiations[t.counter],-t.size/2),t.count(this.valiation)),[2,"Finished moveRain."]}))}))},t.prototype.moveRains=function(t){var n=this;t.map((function(t){return n.moveRain(t).then((function(t){return t}),(function(){return new Error("Did not move rain.")}))}))},t.prototype.drawRain=function(t){return r(this,void 0,c.Promise,(function(){var n,e;return i(this,(function(r){return n=t.size/2*Math.cos(Math.PI/6),e=t.size/2*Math.sin(Math.PI/6),this.ctx.beginPath(),this.ctx.moveTo(t.x,t.yTop),this.ctx.lineTo(t.x-n,t.yBottom-e),this.ctx.arc(t.x,t.yBottom,t.size/2,7*Math.PI/6,-Math.PI/6,!0),this.ctx.moveTo(t.x+n,t.yBottom-e),this.ctx.lineTo(t.x,t.yTop),this.ctx.fill(),[2,"Finished drawRain."]}))}))},t.prototype.drawRains=function(t,n){var e=this;this.ctx.fillStyle=n,t.map((function(t){return e.drawRain(t).then((function(t){return t}),(function(){return new Error("Did not draw rain.")}))}))},t.prototype.draw=function(){var t=this;this.ctx.fillStyle=this.bgcolor,this.ctx.fillRect(0,0,this.width,this.height),this.rains.map((function(n){return t.drawRains(n.rains,n.color)}))},t.prototype.loop=function(){var t=this;this.draw(),this.rains.map((function(n){return t.moveRains(n.rains)}))},t}();function f(){s.loop()}n.init=function(t,n,e,r){var i=document.getElementById(r);if(null===i)throw new Error("Something wrong");i.width=t,i.height=n,(s=new l(t,n,r,"rgb(13, 0, 21")).makeRains(40,12*e,"rgb(15, 35, 80"),s.makeRains(30,18*e,"rgb(25, 68, 142"),s.makeRains(20,24*e,"rgb(0, 123, 187"),s.makeRains(10,30*e,"rgb(0, 149, 217"),u=setInterval(f,s.ms)},n.stopTimer=function(){u&&clearInterval(u)}},function(t,n){var e,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,c=[],h=!1,l=-1;function f(){h&&a&&(h=!1,a.length?c=a.concat(c):l=-1,c.length&&d())}function d(){if(!h){var t=u(f);h=!0;for(var n=c.length;n;){for(a=c,c=[];++l<n;)a&&a[l].run();l=-1,n=c.length}a=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function p(t,n){this.fun=t,this.array=n}function v(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];c.push(new p(t,n)),1!==c.length||h||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){"use strict";var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function u(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(s,u)}a((r=r.apply(t,n||[])).next())}))},i=this&&this.__generator||function(t,n){var e,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;s;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=n.call(t,s)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var e in t)Object.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n.default=t,n};Object.defineProperty(n,"__esModule",{value:!0});var s,u,a=o(e(0)),c=o(e(1));var h=function(){function t(t,n,e){this.x=t,this.y=n,this.size=e}return t.prototype.move=function(t,n){this.x+=t,this.y+=n},t.prototype.moveAbs=function(t,n){this.x=t,this.y=n},t}(),l=function(t,n,e,r,i){this.particles=t,this.vx=n,this.vy=e,this.colorTop=r,this.colorBottom=i},f=function(){function t(t,n,e,r){this.ms=16,this.width=t,this.height=n;var i=document.getElementById(e);if(null===i)throw new Error("Something wrong");var o=i.getContext("2d");if(null===o)throw new Error("Something wrong");this.ctx=o,this.bgcolor=r,this.clouds=[]}return t.prototype.isCollided=function(t,n){return e=t.x,r=t.y,i=t.size,o=n.x,s=n.y,u=n.size,Math.sqrt((e-o)*(e-o)+(r-s)*(r-s))<=(i+u)/2;var e,r,i,o,s,u},t.prototype.getCounters=function(t){for(var n=[],e=0;e<t.length;e+=1){for(var r=0,i=0;i<t.length;i+=1)this.isCollided(t[e],t[i])&&(r+=1);n.push(r)}return n},t.prototype.changeSize=function(t){for(var n,e=this.getCounters(t),r=(n=e).reduce((function(t,n){return t+n}))/n.length,i=0;i<t.length;i+=1)t[i].size=t[i].size*e[i]/r},t.prototype.makeCloud=function(t,n,e,r){if(!(t<=0)){var i=[],o=Math.random()*this.width,s=Math.random()*this.height,u=n/64;i.push(new h(o,s,n));for(var a=1;a<t;a+=1){var c=i[Math.floor(Math.random()*i.length)],f=c.x+2*Math.random()*n-n,d=c.y+(2*Math.random()*n-n)/2;i.push(new h(f,d,n))}this.changeSize(i),this.clouds.push(new l(i,u,0,e,r))}},t.prototype.moveParticle=function(t,n,e){return r(this,void 0,c.Promise,(function(){return i(this,(function(r){return t.move(n,e),t.x>=this.width&&t.moveAbs(t.x%this.width,t.y),t.y>=this.height&&t.moveAbs(t.x,t.y%this.height),[2,"Finished moveParticle."]}))}))},t.prototype.moveCloud=function(t){return r(this,void 0,c.Promise,(function(){var n,e,r;return i(this,(function(i){for(n=0,e=t.particles;n<e.length;n++)r=e[n],this.moveParticle(r,t.vx,t.vy).then((function(t){return t}),(function(){return new Error("Did not move Particle.")}));return[2,"Finished moveCloud."]}))}))},t.prototype.drawParticle=function(t,n,e){return r(this,void 0,c.Promise,(function(){var r;return i(this,(function(i){return(r=this.ctx.createLinearGradient(t.x,t.y-t.size/2,t.x,t.y+t.size/2)).addColorStop(0,n),r.addColorStop(1,e),this.ctx.fillStyle=r,this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size/2,0,2*Math.PI,!0),this.ctx.fill(),[2,"Finished drawParticle."]}))}))},t.prototype.drawCloud=function(t){var n=this;t.particles.map((function(e){return n.drawParticle(e,t.colorTop,t.colorBottom).then((function(t){return t}),(function(){return new Error("Did not draw particle.")}))}))},t.prototype.draw=function(){this.ctx.fillStyle=this.bgcolor,this.ctx.fillRect(0,0,this.width,this.height);for(var t=0,n=this.clouds;t<n.length;t++){var e=n[t];this.drawCloud(e)}},t.prototype.loop=function(){var t=this;this.draw(),this.clouds.map((function(n){return t.moveCloud(n).then((function(t){return t}),(function(){return new Error("Did not move cloud.")}))}))},t}();function d(){u.loop()}n.init=function(t,n,e,r,i,o){void 0===e&&(e=1),void 0===r&&(r=4),void 0===i&&(i=20);var c=document.getElementById(o);if(null===c)throw new Error("Did not get Canvas element. Maybe, "+o+" is not Canvas element id.");c.width=t,c.height=n,u=new f(t,n,o,"rgba(44, 169, 225, 1.0");for(var h=0,l=a.range(0,r);h<l.length;h++)for(var p=l[h],v=(p+1)*i,m=(36-6*(r-p))*e,y=0,w=a.range(0,r-p);y<w.length;y++){w[y];u.makeCloud(v,m,"rgba(247, 252, 254, 0.1","rgba(133, 185, 203, 0.1")}s=setInterval(d,u.ms)},n.stopTimer=function(){s&&clearInterval(s)}}]);